"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "compareBNF", {
    enumerable: true,
    get: function() {
        return compareBNF;
    }
});
var _occamlexers = require("occam-lexers");
var _occamparsers = require("occam-parsers");
var _jsonComparisons = require("../jsonComparisons");
var bnfLexer = _occamlexers.BNFLexer.fromNothing(), bnfParser = _occamparsers.BNFParser.fromNothing();
function compareBNF(bnfA, bnfB) {
    var jsonComparison;
    var nodeA = nodeFromBNF(bnfA), nodeB = nodeFromBNF(bnfB);
    if (nodeA === null && nodeB === null) {
        jsonComparison = _jsonComparisons.EQUAL_TO_JSON_COMPARISON;
    } else if (nodeA === null) {
        jsonComparison = _jsonComparisons.NOT_EQUAL_TO_JSON_COMPARISON;
    } else if (nodeB === null) {
        jsonComparison = _jsonComparisons.NOT_EQUAL_TO_JSON_COMPARISON;
    } else {
        var matches = nodeA.match(nodeB);
        jsonComparison = matches ? _jsonComparisons.EQUAL_TO_JSON_COMPARISON : _jsonComparisons.NOT_EQUAL_TO_JSON_COMPARISON;
    }
    return jsonComparison;
}
function nodeFromBNF(bnf) {
    var node = null;
    if (bnf !== null) {
        var content = bnf, tokens = bnfLexer.tokenise(content);
        node = bnfParser.parse(tokens);
    }
    return node;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvYm5mLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBCTkZMZXhlciB9IGZyb20gXCJvY2NhbS1sZXhlcnNcIjtcbmltcG9ydCB7IEJORlBhcnNlciB9IGZyb20gXCJvY2NhbS1wYXJzZXJzXCI7XG5cbmltcG9ydCB7IEVRVUFMX1RPX0pTT05fQ09NUEFSSVNPTiwgTk9UX0VRVUFMX1RPX0pTT05fQ09NUEFSSVNPTiB9IGZyb20gXCIuLi9qc29uQ29tcGFyaXNvbnNcIjtcblxuY29uc3QgYm5mTGV4ZXIgPSBCTkZMZXhlci5mcm9tTm90aGluZygpLFxuICAgICAgYm5mUGFyc2VyID0gQk5GUGFyc2VyLmZyb21Ob3RoaW5nKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlQk5GKGJuZkEsIGJuZkIpIHtcbiAgbGV0IGpzb25Db21wYXJpc29uO1xuXG4gIGNvbnN0IG5vZGVBID0gbm9kZUZyb21CTkYoYm5mQSksXG4gICAgICAgIG5vZGVCID0gbm9kZUZyb21CTkYoYm5mQik7XG5cbiAgaWYgKChub2RlQSA9PT0gbnVsbCkgJiYgKG5vZGVCID09PSBudWxsKSkge1xuICAgIGpzb25Db21wYXJpc29uID0gRVFVQUxfVE9fSlNPTl9DT01QQVJJU09OO1xuICB9IGVsc2UgaWYgKG5vZGVBID09PSBudWxsKSB7XG4gICAganNvbkNvbXBhcmlzb24gPSBOT1RfRVFVQUxfVE9fSlNPTl9DT01QQVJJU09OO1xuICB9IGVsc2UgaWYgKG5vZGVCID09PSBudWxsKSB7XG4gICAganNvbkNvbXBhcmlzb24gPSBOT1RfRVFVQUxfVE9fSlNPTl9DT01QQVJJU09OO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1hdGNoZXMgPSBub2RlQS5tYXRjaChub2RlQik7XG5cbiAgICBqc29uQ29tcGFyaXNvbiA9IG1hdGNoZXMgP1xuICAgICAgICAgICAgICAgICAgICAgIEVRVUFMX1RPX0pTT05fQ09NUEFSSVNPTiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBOT1RfRVFVQUxfVE9fSlNPTl9DT01QQVJJU09OO1xuICB9XG5cbiAgcmV0dXJuIGpzb25Db21wYXJpc29uO1xufVxuXG5mdW5jdGlvbiBub2RlRnJvbUJORihibmYpIHtcbiAgbGV0IG5vZGUgPSBudWxsO1xuXG4gIGlmIChibmYgIT09IG51bGwpIHtcbiAgICBjb25zdCBjb250ZW50ID0gYm5mLFxuICAgICAgICAgIHRva2VucyA9IGJuZkxleGVyLnRva2VuaXNlKGNvbnRlbnQpO1xuXG4gICAgbm9kZSA9IGJuZlBhcnNlci5wYXJzZSh0b2tlbnMpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59Il0sIm5hbWVzIjpbImNvbXBhcmVCTkYiLCJibmZMZXhlciIsIkJORkxleGVyIiwiZnJvbU5vdGhpbmciLCJibmZQYXJzZXIiLCJCTkZQYXJzZXIiLCJibmZBIiwiYm5mQiIsImpzb25Db21wYXJpc29uIiwibm9kZUEiLCJub2RlRnJvbUJORiIsIm5vZGVCIiwiRVFVQUxfVE9fSlNPTl9DT01QQVJJU09OIiwiTk9UX0VRVUFMX1RPX0pTT05fQ09NUEFSSVNPTiIsIm1hdGNoZXMiLCJtYXRjaCIsImJuZiIsIm5vZGUiLCJjb250ZW50IiwidG9rZW5zIiwidG9rZW5pc2UiLCJwYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBVWdCQTs7O2VBQUFBOzs7MkJBUlM7NEJBQ0M7K0JBRTZDO0FBRXZFLElBQU1DLFdBQVdDLHFCQUFRLENBQUNDLFdBQVcsSUFDL0JDLFlBQVlDLHVCQUFTLENBQUNGLFdBQVc7QUFFaEMsU0FBU0gsV0FBV00sSUFBSSxFQUFFQyxJQUFJO0lBQ25DLElBQUlDO0lBRUosSUFBTUMsUUFBUUMsWUFBWUosT0FDcEJLLFFBQVFELFlBQVlIO0lBRTFCLElBQUksQUFBQ0UsVUFBVSxRQUFVRSxVQUFVLE1BQU87UUFDeENILGlCQUFpQkkseUNBQXdCO0lBQzNDLE9BQU8sSUFBSUgsVUFBVSxNQUFNO1FBQ3pCRCxpQkFBaUJLLDZDQUE0QjtJQUMvQyxPQUFPLElBQUlGLFVBQVUsTUFBTTtRQUN6QkgsaUJBQWlCSyw2Q0FBNEI7SUFDL0MsT0FBTztRQUNMLElBQU1DLFVBQVVMLE1BQU1NLEtBQUssQ0FBQ0o7UUFFNUJILGlCQUFpQk0sVUFDQ0YseUNBQXdCLEdBQ3RCQyw2Q0FBNEI7SUFDbEQ7SUFFQSxPQUFPTDtBQUNUO0FBRUEsU0FBU0UsWUFBWU0sR0FBRztJQUN0QixJQUFJQyxPQUFPO0lBRVgsSUFBSUQsUUFBUSxNQUFNO1FBQ2hCLElBQU1FLFVBQVVGLEtBQ1ZHLFNBQVNsQixTQUFTbUIsUUFBUSxDQUFDRjtRQUVqQ0QsT0FBT2IsVUFBVWlCLEtBQUssQ0FBQ0Y7SUFDekI7SUFFQSxPQUFPRjtBQUNUIn0=